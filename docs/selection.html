<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />

    <link rel="shortcut icon" href="https://vega.github.io/favicon.ico" />

    <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Interactive Plots with Selections | Vega-Lite</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Interactive Plots with Selections" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Vega-Lite - a high-level grammar for statistical graphics. Vega-Lite provides a higher-level grammar for visual analysis, comparable to ggplot or Tableau, that generates complete Vega specifications. Vega-Lite specifications consist of simple mappings of variables in a data set to visual encoding channels such as x, y, color, and size. These mappings are then translated into detailed visualization specifications in the form of Vega specification language. Vega-Lite produces default values for visualization components (e.g., scales, axes, and legends) in the output Vega specification using a rule-based approach, but users can explicit specify these properties to override default values." />
<meta property="og:description" content="Vega-Lite - a high-level grammar for statistical graphics. Vega-Lite provides a higher-level grammar for visual analysis, comparable to ggplot or Tableau, that generates complete Vega specifications. Vega-Lite specifications consist of simple mappings of variables in a data set to visual encoding channels such as x, y, color, and size. These mappings are then translated into detailed visualization specifications in the form of Vega specification language. Vega-Lite produces default values for visualization components (e.g., scales, axes, and legends) in the output Vega specification using a rule-based approach, but users can explicit specify these properties to override default values." />
<link rel="canonical" href="https://vega.github.io/docs/selection.html" />
<meta property="og:url" content="https://vega.github.io/docs/selection.html" />
<meta property="og:site_name" content="Vega-Lite" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Interactive Plots with Selections" />
<meta name="twitter:site" content="@vega_vis" />
<script type="application/ld+json">
{"headline":"Interactive Plots with Selections","url":"https://vega.github.io/docs/selection.html","@type":"WebPage","description":"Vega-Lite - a high-level grammar for statistical graphics. Vega-Lite provides a higher-level grammar for visual analysis, comparable to ggplot or Tableau, that generates complete Vega specifications. Vega-Lite specifications consist of simple mappings of variables in a data set to visual encoding channels such as x, y, color, and size. These mappings are then translated into detailed visualization specifications in the form of Vega specification language. Vega-Lite produces default values for visualization components (e.g., scales, axes, and legends) in the output Vega specification using a rule-based approach, but users can explicit specify these properties to override default values.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <script>
      const BASEURL = window.location.origin + '';
    </script>

    <link rel="stylesheet" href="/static/github.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/octicons@4.4.0/build/font/octicons.min.css" />
    <link rel="stylesheet" href="/static/main.css" />
  </head>
  <body>
    <div class="fill">
  <header>
    <nav class="page-centered">
      <div class="dropdown">
        <a class="vl-title" href="/">Vega-Lite</a>
        <div class="dropdown-content">
          <a href="https://vega.github.io/vega/">Vega</a>
          <a href="https://altair-viz.github.io/">Altair</a>
        </div>
      </div>
      <div class="vl-links">
        <div class="primary-links">
          <a href="/examples/" >Examples</a>
          <a href="/tutorials/getting_started.html" >Tutorials</a>
          <a href="/docs/" class="active">Documentation</a>
          <a href="/usage/embed.html" >Usage</a>
          <a href="/ecosystem.html" >Ecosystem</a>
        </div>
        <div class="secondary-links">
          <a href="https://www.github.com/vega/vega-lite">GitHub</a>
          <a href="https://vega.github.io/editor/#/custom/vega-lite">Try Online</a>
        </div>
      </div>
    </nav>
  </header>
  <section class="docs">
    



<div class="page-centered page-main">
  
  <aside class="page-sidebar">
    <ul class="sidebar-nav">
      
      
      <li class="sidebar-nav-item"><a 
          href="/docs/" title="">Overview
      </a></li>
      
      
      
      
      <li class="sidebar-nav-item"><a 
          href="/docs/spec.html" title="">View Specification
      </a></li>
      
      <ul class="sub-sub-nav">
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/title.html" title="">Title
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/size.html" title="">Width / Height
        </a></li>
        
      </ul>
      
      
      
      
      <li class="sidebar-nav-item"><a 
          href="/docs/data.html" title="">Data / Datasets
      </a></li>
      
      
      
      
      <li class="sidebar-nav-item"><a 
          href="/docs/transform.html" title="">Transform
      </a></li>
      
      <ul class="sub-sub-nav">
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/aggregate.html" title="">Aggregate
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/bin.html" title="">Bin
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/calculate.html" title="">Calculate
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/density.html" title="">Density
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/filter.html" title="">Filter
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/flatten.html" title="">Flatten
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/fold.html" title="">Fold
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/impute.html" title="">Impute
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/joinaggregate.html" title="">Join Aggregate
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/loess.html" title="">Loess
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/lookup.html" title="">Lookup
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/pivot.html" title="">Pivot
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/quantile.html" title="">Quantile
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/regression.html" title="">Regression
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/sample.html" title="">Sample
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/stack.html" title="">Stack
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/timeunit.html" title="">Time Unit
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/window.html" title="">Window
        </a></li>
        
      </ul>
      
      
      
      
      <li class="sidebar-nav-item"><a 
          href="/docs/mark.html" title="">Mark
      </a></li>
      
      <ul class="sub-sub-nav">
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/arc.html" title="">Arc
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/area.html" title="">Area
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/bar.html" title="">Bar
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/boxplot.html" title="">Box Plot
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/circle.html" title="">Circle
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/errorband.html" title="">Error Band
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/errorbar.html" title="">Error Bar
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/geoshape.html" title="">Geoshape
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/image.html" title="">Image
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/line.html" title="">Line
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/point.html" title="">Point
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/rect.html" title="">Rect
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/rule.html" title="">Rule
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/square.html" title="">Square
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/text.html" title="">Text
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/tick.html" title="">Tick
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/trail.html" title="">Trail
        </a></li>
        
      </ul>
      
      
      
      
      <li class="sidebar-nav-item"><a 
          href="/docs/encoding.html" title="">Encoding
      </a></li>
      
      <ul class="sub-sub-nav">
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/aggregate.html" title="">Aggregate
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/axis.html" title="">Axis
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/band.html" title="">Band
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/bin.html" title="">Bin
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/condition.html" title="">Condition
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/datum.html" title="">Datum
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/field.html" title="">Field
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/format.html" title="">Format
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/header.html" title="">Header
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/impute.html" title="">Impute
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/legend.html" title="">Legend
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/scale.html" title="">Scale
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/stack.html" title="">Stack
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/sort.html" title="">Sort
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/timeunit.html" title="">Time Unit
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/type.html" title="">Type
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/value.html" title="">Value
        </a></li>
        
      </ul>
      
      
      
      
      <li class="sidebar-nav-item"><a 
          href="/docs/projection.html" title="">Projection
      </a></li>
      
      
      
      
      <li class="sidebar-nav-item"><a 
          href="/docs/composition.html" title="">View Composition
      </a></li>
      
      <ul class="sub-sub-nav">
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/facet.html" title="">Facet
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/layer.html" title="">Layer
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/concat.html" title="">Concat
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/repeat.html" title="">Repeat
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/resolve.html" title="">Resolve
        </a></li>
        
      </ul>
      
      
      
      
      <li class="sidebar-nav-item"><a class="active"
          href="/docs/selection.html" title="">Selections
      </a></li>
      
      <ul class="sub-sub-nav">
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/bind.html" title="">Bind
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/clear.html" title="">Clear
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/project.html" title="">Encodings / Fields
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/init.html" title="">Init
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/selection-mark.html" title="">Mark
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/nearest.html" title="">Nearest
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/selection-resolve.html" title="">Resolve
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/toggle.html" title="">Toggle
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/translate.html" title="">Translate
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/zoom.html" title="">Zoom
        </a></li>
        
      </ul>
      
      
      
      
      <li class="sidebar-nav-item"><a 
          href="/docs/config.html" title="">Config
      </a></li>
      
      
      
      
      <br>
      
      
      
      <li class="sidebar-nav-item"><a 
          href="/docs/types.html" title="">Parameter Types
      </a></li>
      
      <ul class="sub-sub-nav">
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/datetime.html" title="">Date Time
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/gradient.html" title="">Gradient
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/docs/predicate.html" title="">Predicate
        </a></li>
        
      </ul>
      
      
      
      
      <li class="sidebar-nav-item"><a 
          href="/docs/tooltip.html" title="">Tooltip
      </a></li>
      
      
      
    </nav>
  </aside>
  

  <section class="page-content">
    <h1>Interactive Plots with Selections</h1>
    <span class="edit-page">
    <a href="https://github.com/vega/vega-lite/edit/master/site/docs/selection/selection.md">Edit this page</a>
</span>
<pre><code class="language-js">// A Single View Specification
{
  ...,
  "selection": {  // Key-value mappings between selection names and definitions.
    ...: {"type": "single/multi/interval",  ...},
    ...
  },
  "mark": ...,
  "encoding": ...,
  ...
}
</code></pre>

<p>Selections are the basic building block in Vega-Lite’s <em>grammar of interaction.</em> They map user input (e.g., mouse moves and clicks, touch presses, etc.) into data queries, which can subsequently be used to drive conditional encoding rules, filter data points, or determine scale domains.</p>

<!--prettier-ignore-start-->
<h2 class="no_toc" id="documentation-overview">Documentation Overview</h2>

<ul id="markdown-toc">
  <li><a href="#type" id="markdown-toc-type">Selection Types</a></li>
  <li><a href="#selection-props" id="markdown-toc-selection-props">Selection Properties</a>    <ul>
      <li><a href="#common-selection-properties" id="markdown-toc-common-selection-properties">Common Selection Properties</a></li>
      <li><a href="#single" id="markdown-toc-single">Single Selection Properties</a></li>
      <li><a href="#multi" id="markdown-toc-multi">Multi Selection Properties</a></li>
      <li><a href="#interval" id="markdown-toc-interval">Interval Selection Properties</a></li>
    </ul>
  </li>
  <li><a href="#using-selections" id="markdown-toc-using-selections">Using Selections</a>    <ul>
      <li><a href="#conditional-encodings" id="markdown-toc-conditional-encodings">Conditional Encodings</a></li>
      <li><a href="#filtering-data" id="markdown-toc-filtering-data">Filtering Data</a></li>
      <li><a href="#scale-domains" id="markdown-toc-scale-domains">Scale Domains</a></li>
      <li><a href="#compose" id="markdown-toc-compose">Composing Multiple Selections</a></li>
    </ul>
  </li>
  <li><a href="#config" id="markdown-toc-config">Selection Configuration</a></li>
</ul>

<!--prettier-ignore-end-->

<h2 id="type">Selection Types</h2>

<p>Selections are defined within single views, and their simplest definition consists of a <strong>name</strong> and a <strong>type</strong>. The selection type determines the default events that trigger a selection and the resultant data query.</p>

<table class="doc-table">
  <thead>
    <tr>
      <th>Property</th>
      <th class="table-column-type">Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    
    
    
    
      
      
      <tr>
        <td>type</td>
        <td>String
</td>
        <td>
  
    <p><strong><em>Required.</em></strong> Determines the default event processing and data query for the selection. Vega-Lite currently supports three selection types:</p>

<ul>
  <li><code>"single"</code> – to select a single discrete data value on <code>click</code>. - <code>"multi"</code> – to select multiple discrete data value; the first value is selected on <code>click</code> and additional values toggled on shift-<code>click</code>. - <code>"interval"</code> – to select a continuous range of data values on <code>drag</code>.</li>
</ul>

  

</td>
      </tr>
    
  </tbody>
</table>

<p>For example, try the different types against the example selection (named <code>pts</code>) below:</p>

<p><select onchange="changeSpec('selection_type', 'selection_type_' + this.value)">
  <option>single</option>
  <option>multi</option>
  <option>interval</option>
</select>.</p>

<div id="selection_type" class="vl-example" data-name="selection_type_single"></div>

<h2 id="selection-props">Selection Properties</h2>

<p>While selection types provide useful defaults, it can often be useful to override these properties to customize the interaction design.</p>

<h3 id="common-selection-properties">Common Selection Properties</h3>

<p id="selection-on">All selection types support the following properties:</p>

<table class="doc-table">
  <thead>
    <tr>
      <th>Property</th>
      <th class="table-column-type">Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    
    
    
    
      
      
      <tr>
        <td>clear</td>
        <td><a href="https://vega.github.io/vega/docs/event-streams/">VegaEventStream</a> | String | Boolean
</td>
        <td>
  
    <p>Clears the selection, emptying it of all values. Can be a <a href="https://vega.github.io/vega/docs/event-streams/">Event Stream</a> or <code>false</code> to disable.</p>

<p><strong>Default value:</strong> <code>dblclick</code>.</p>

<p><strong>See also:</strong> <a href="https://vega.github.io/vega-lite/docs/clear.html"><code>clear</code></a> documentation.</p>

  

</td>
      </tr>
    
      
      
      <tr>
        <td>empty</td>
        <td>String
</td>
        <td>
  
    <p>By default, <code>all</code> data values are considered to lie within an empty selection. When set to <code>none</code>, empty selections contain no data values.</p>

  

</td>
      </tr>
    
      
      
      <tr>
        <td>on</td>
        <td><a href="https://vega.github.io/vega/docs/event-streams/">VegaEventStream</a> | String
</td>
        <td>
  
    <p>A <a href="https://vega.github.io/vega/docs/event-streams/">Vega event stream</a> (object or selector) that triggers the selection. For interval selections, the event stream must specify a <a href="https://vega.github.io/vega/docs/event-streams/#between-filters">start and end</a>.</p>

  

</td>
      </tr>
    
      
      
      <tr>
        <td>resolve</td>
        <td>String
</td>
        <td>
  
    <p>With layered and multi-view displays, a strategy that determines how selections’ data queries are resolved when applied in a filter transform, conditional encoding rule, or scale domain.</p>

<p><strong>See also:</strong> <a href="https://vega.github.io/vega-lite/docs/selection-resolve.html"><code>resolve</code></a> documentation.</p>

  

</td>
      </tr>
    
      
      
      <tr>
        <td>encodings</td>
        <td>String[]
</td>
        <td>
  
    <p>An array of encoding channels. The corresponding data field values must match for a data tuple to fall within the selection.</p>

<p><strong>See also:</strong> <a href="https://vega.github.io/vega-lite/docs/project.html"><code>encodings</code></a> documentation.</p>

  

</td>
      </tr>
    
      
      
      <tr>
        <td>fields</td>
        <td>String[]
</td>
        <td>
  
    <p>An array of field names whose values must match for a data tuple to fall within the selection.</p>

<p><strong>See also:</strong> <a href="https://vega.github.io/vega-lite/docs/project.html"><code>fields</code></a> documentation.</p>

  

</td>
      </tr>
    
  </tbody>
</table>

<p>For instance, with the <code>on</code> property, a single rectangle in the heatmap below can now be selected on mouse hover instead.</p>

<div class="vl-example" data-name="selection_type_single_mouseover"></div>

<h3 id="single">Single Selection Properties</h3>

<p>In addition to all <a href="#selection-props">common selection properties</a>, single selections support the following properties:</p>

<table class="doc-table">
  <thead>
    <tr>
      <th>Property</th>
      <th class="table-column-type">Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    
    
    
    
      
      
      <tr>
        <td>init</td>
        <td><a href="init.html">Object</a>
</td>
        <td>
  
    <p>Initialize the selection with a mapping between <a href="https://vega.github.io/vega-lite/docs/project.html">projected channels or field names</a> and initial values.</p>

<p><strong>See also:</strong> <a href="https://vega.github.io/vega-lite/docs/init.html"><code>init</code></a> documentation.</p>

  

</td>
      </tr>
    
      
      
      <tr>
        <td>bind</td>
        <td><a href="bind.html">Binding</a> | Object | <a href="https://vega.github.io/vega-lite/docs/bind.html#legend-binding">LegendBinding</a>
</td>
        <td>
  
    <p>When set, a selection is populated by input elements (also known as dynamic query widgets) or by interacting with the corresponding legend. Direct manipulation interaction is disabled by default; to re-enable it, set the selection’s <a href="https://vega.github.io/vega-lite/docs/selection.html#common-selection-properties"><code>on</code></a> property.</p>

<p>Legend bindings are restricted to selections that only specify a single field or encoding.</p>

<p>Query widget binding takes the form of Vega’s <a href="https://vega.github.io/vega/docs/signals/#bind">input element binding definition</a> or can be a mapping between projected field/encodings and binding definitions.</p>

<p><strong>See also:</strong> <a href="https://vega.github.io/vega-lite/docs/bind.html"><code>bind</code></a> documentation.</p>

  

</td>
      </tr>
    
      
      
      <tr>
        <td>nearest</td>
        <td>Boolean
</td>
        <td>
  
    <p>When true, an invisible voronoi diagram is computed to accelerate discrete selection. The data value <em>nearest</em> the mouse cursor is added to the selection.</p>

<p><strong>See also:</strong> <a href="https://vega.github.io/vega-lite/docs/nearest.html"><code>nearest</code></a> documentation.</p>

  

</td>
      </tr>
    
  </tbody>
</table>

<h3 id="multi">Multi Selection Properties</h3>

<p>In addition to all <a href="#selection-props">common selection properties</a>, multi selections support the following properties:</p>

<table class="doc-table">
  <thead>
    <tr>
      <th>Property</th>
      <th class="table-column-type">Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    
    
    
    
      
      
      <tr>
        <td>init</td>
        <td><a href="init.html">Object</a>[]
</td>
        <td>
  
    <p>Initialize the selection with a mapping between <a href="https://vega.github.io/vega-lite/docs/project.html">projected channels or field names</a> and an initial value (or array of values).</p>

<p><strong>See also:</strong> <a href="https://vega.github.io/vega-lite/docs/init.html"><code>init</code></a> documentation.</p>

  

</td>
      </tr>
    
      
      
      <tr>
        <td>nearest</td>
        <td>Boolean
</td>
        <td>
  
    <p>When true, an invisible voronoi diagram is computed to accelerate discrete selection. The data value <em>nearest</em> the mouse cursor is added to the selection.</p>

<p><strong>See also:</strong> <a href="https://vega.github.io/vega-lite/docs/nearest.html"><code>nearest</code></a> documentation.</p>

  

</td>
      </tr>
    
      
      
      <tr>
        <td>toggle</td>
        <td>String | Boolean
</td>
        <td>
  
    <p>Controls whether data values should be toggled or only ever inserted into multi selections. Can be <code>true</code>, <code>false</code> (for insertion only), or a <a href="https://vega.github.io/vega/docs/expressions/">Vega expression</a>.</p>

<p><strong>Default value:</strong> <code>true</code>, which corresponds to <code>event.shiftKey</code> (i.e., data values are toggled when a user interacts with the shift-key pressed).</p>

<p>Setting the value to the Vega expression <code>"true"</code> will toggle data values without the user pressing the shift-key.</p>

<p><strong>See also:</strong> <a href="https://vega.github.io/vega-lite/docs/toggle.html"><code>toggle</code></a> documentation.</p>

  

</td>
      </tr>
    
  </tbody>
</table>

<h3 id="interval">Interval Selection Properties</h3>

<p>In addition to all <a href="#selection-props">common selection properties</a>, interval selections support the following properties:</p>

<table class="doc-table">
  <thead>
    <tr>
      <th>Property</th>
      <th class="table-column-type">Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    
    
    
    
      
      
      <tr>
        <td>bind</td>
        <td>String
</td>
        <td>
  
    <p>Establishes a two-way binding between the interval selection and the scales used within the same view. This allows a user to interactively pan and zoom the view.</p>

<p><strong>See also:</strong> <a href="https://vega.github.io/vega-lite/docs/bind.html"><code>bind</code></a> documentation.</p>

  

</td>
      </tr>
    
      
      
      <tr>
        <td>init</td>
        <td><a href="init.html">Object</a>
</td>
        <td>
  
    <p>Initialize the selection with a mapping between <a href="https://vega.github.io/vega-lite/docs/project.html">projected channels or field names</a> and arrays of initial values.</p>

<p><strong>See also:</strong> <a href="https://vega.github.io/vega-lite/docs/init.html"><code>init</code></a> documentation.</p>

  

</td>
      </tr>
    
      
      
      <tr>
        <td>mark</td>
        <td><a href="selection.html#interval-mark">Mark</a>
</td>
        <td>
  
    <p>An interval selection also adds a rectangle mark to depict the extents of the interval. The <code>mark</code> property can be used to customize the appearance of the mark.</p>

<p><strong>See also:</strong> <a href="https://vega.github.io/vega-lite/docs/selection-mark.html"><code>mark</code></a> documentation.</p>

  

</td>
      </tr>
    
      
      
      <tr>
        <td>translate</td>
        <td>String | Boolean
</td>
        <td>
  
    <p>When truthy, allows a user to interactively move an interval selection back-and-forth. Can be <code>true</code>, <code>false</code> (to disable panning), or a <a href="https://vega.github.io/vega/docs/event-streams/">Vega event stream definition</a> which must include a start and end event to trigger continuous panning.</p>

<p><strong>Default value:</strong> <code>true</code>, which corresponds to <code>[mousedown, window:mouseup] &gt; window:mousemove!</code> which corresponds to clicks and dragging within an interval selection to reposition it.</p>

<p><strong>See also:</strong> <a href="https://vega.github.io/vega-lite/docs/translate.html"><code>translate</code></a> documentation.</p>

  

</td>
      </tr>
    
      
      
      <tr>
        <td>zoom</td>
        <td>String | Boolean
</td>
        <td>
  
    <p>When truthy, allows a user to interactively resize an interval selection. Can be <code>true</code>, <code>false</code> (to disable zooming), or a <a href="https://vega.github.io/vega/docs/event-streams/">Vega event stream definition</a>. Currently, only <code>wheel</code> events are supported.</p>

<p><strong>Default value:</strong> <code>true</code>, which corresponds to <code>wheel!</code>.</p>

<p><strong>See also:</strong> <a href="https://vega.github.io/vega-lite/docs/zoom.html"><code>zoom</code></a> documentation.</p>

  

</td>
      </tr>
    
  </tbody>
</table>

<h2 id="using-selections">Using Selections</h2>

<h3 id="conditional-encodings">Conditional Encodings</h3>

<p>Selections can be used to conditionally specify visual encodings – encode data values one way if they fall within the selection, and another if they do not. For instance, in the first two examples on this page, rectangles are colored based on whether or not their data values fall within the <code>pts</code> selection. If they do, they are colored by the number of records; and, if they do not, they are left grey.</p>

<p>In this example, a selection (named <code>paintbrush</code>) is used to resize the points in the scatterplot on hover. This example is also useful for understanding the difference when empty selections are set to contain <select onchange="changeSpec('interactive_paintbrush_simple', 'interactive_paintbrush_simple_' + this.value)"><option>all</option><option>none</option></select> of the data values.</p>

<div class="vl-example" id="interactive_paintbrush_simple" data-name="interactive_paintbrush_simple_all"></div>

<p>See the <a href="condition.html"><code>condition</code></a> documentation for more information.</p>

<h3 id="filtering-data">Filtering Data</h3>

<p>Selections in one view can also be used to filter input data to another view. In the example below, two scatterplots are concatenated vertically. An interval selection (named <code>brush</code>) is defined in the first plot and is used to filter the points in the second. Thus, the <code>Acceleration x Displacement</code> scatterplot only visualizes points that fall within the brushed region.</p>

<div class="vl-example" data-name="selection_filter"></div>

<h3 id="scale-domains">Scale Domains</h3>

<p>With multiview displays, selections can also be used to determine the domains of scales in other views. For example, in the specification below, the bottom plot contains an interval selection named <code>brush</code>. We use this <code>brush</code> selection to parameterize the <code>domain</code> of the top plot’s x-scale to make it show only the selected interval. This technique is called an overview+detail display.</p>

<div class="vl-example" data-name="interactive_overview_detail"></div>

<p>An alternate way to construct this technique would be to filter out the input data to the top (detail) view like so:</p>

<pre><code class="language-js">{
  "vconcat": [{
    "transform": [{"filter": {"selection": "brush"}}],
    ...
  }]
}
</code></pre>

<p>However, setting the scale domains (rather than filtering data out) yields superior interactive performance. Rather than testing whether each data value falls within the selection or not, the scale domains are changed directly to the brush extents.</p>

<p>If the selection is <a href="project.html">projected</a> over <em>multiple</em> fields or encodings, one must be given as part of the scale domain definition. Vega-Lite automatically infers this property if the selection is only projected over a single field or encoding. Thus, with the above example, the scale domain can be specified more explicitly as:</p>

<ul>
  <li><code>"scale": {"domain": {"selection": "brush", "encoding": "x"}}</code> or</li>
  <li><code>"scale": {"domain": {"selection": "brush", "field": "date"}}</code></li>
</ul>

<p><em>Note:</em> For a selection to manipulate the scales of its own view, use the <a href="bind.html#scale-binding">bind</a> operator instead.</p>

<h3 id="compose">Composing Multiple Selections</h3>

<p>So far, we have only considered how to use one selection at a time. Vega-Lite also supports combining multiple selections using the <code>not</code>, <code>or</code>, and <code>and</code> logical composition operators.</p>

<p>For example, we had previously seen how we could setup two interval selections for our users Alex and Morgan. Now, we color the rectangles when they fall within Alex’s <select onchange="changeSpec('selection_composition', 'selection_composition_' + this.value)"><option>and</option><option>or</option></select> Morgan’s selections.</p>

<div id="selection_composition" class="vl-example" data-name="selection_composition_and"></div>

<p>With these operators, selections can be combined in arbitrary ways:</p>

<ul>
  <li><code>"selection": {"not": {"and": ["alex", "morgan"]}}</code></li>
  <li><code>"selection": {"or": ["alex", {"not": "morgan"}]}</code></li>
</ul>

<p>When using selections with filter operators, logical composition can be used to mix selections with other filter operators. For example, as shown below, the <code>Displacement x Acceleration</code> scatterplot now visualizes points that lie within the brushed region <strong>and</strong> have a <code>Weight_in_lbs &gt; 3000</code>.</p>

<div class="vl-example" data-name="selection_filter_composition"></div>

<p><em>Note:</em> Logical composition is <strong>not</strong> supported when selections are used to drive scale domains.</p>

<h2 id="config">Selection Configuration</h2>

<pre><code class="language-js">// Top-level View Specification
{
  ...,
  "config": {          // Configuration Object
    "selection": { ... },   // - Selection Configuration
    ...
  }
}
</code></pre>

<p>The <code>selection</code> property of the <a href="config.html"><code>config</code></a> object determines the default properties and transformations applied to different types of <a href="selection.html">selections</a>. The selection config can contain the following properties:</p>

<table class="doc-table">
  <thead>
    <tr>
      <th>Property</th>
      <th class="table-column-type">Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    
    
    
    
      
      
      <tr>
        <td>single</td>
        <td><a href="selection.html#definition">Selection</a>
</td>
        <td>
  
    <p>The default definition for a <a href="https://vega.github.io/vega-lite/docs/selection.html#type"><code>single</code></a> selection. All properties and transformations   for a single selection definition (except <code>type</code>) may be specified here.</p>

<p>For instance, setting <code>single</code> to <code>{"on": "dblclick"}</code> populates single selections on double-click by default.</p>

  

</td>
      </tr>
    
      
      
      <tr>
        <td>multi</td>
        <td><a href="selection.html#definition">Selection</a>
</td>
        <td>
  
    <p>The default definition for a <a href="https://vega.github.io/vega-lite/docs/selection.html#type"><code>multi</code></a> selection. All properties and transformations for a multi selection definition (except <code>type</code>) may be specified here.</p>

<p>For instance, setting <code>multi</code> to <code>{"toggle": "event.altKey"}</code> adds additional values to multi selections when clicking with the alt-key pressed by default.</p>

  

</td>
      </tr>
    
      
      
      <tr>
        <td>interval</td>
        <td><a href="selection.html#definition">Selection</a>
</td>
        <td>
  
    <p>The default definition for an <a href="https://vega.github.io/vega-lite/docs/selection.html#type"><code>interval</code></a> selection. All properties and transformations for an interval selection definition (except <code>type</code>) may be specified here.</p>

<p>For instance, setting <code>interval</code> to <code>{"translate": false}</code> disables the ability to move interval selections by default.</p>

  

</td>
      </tr>
    
  </tbody>
</table>



  </section>
</div>

  </section>
</div>

<footer>
  <div class="page-centered">
   <span class="edit-page">
      <a href="https://github.com/vega/vega-lite/edit/master/site/docs/selection/selection.md">Edit this page</a> and submit a pull request!
    </span>

    <a href="http://idl.cs.washington.edu" title="UW Interactive Data Lab" class="idl-logo"><img src="/static/idl-logo.png"/></a>
  </div>
</footer>

    <script src="/static/bundle.js"></script>
    <script>
      // Google Analytics
      (function(i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        (i[r] =
          i[r] ||
          function() {
            (i[r].q = i[r].q || []).push(arguments);
          }),
          (i[r].l = 1 * new Date());
        (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m);
      })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

      ga('create', 'UA-44428446-6', 'auto');
      ga('send', 'pageview');
    </script>
  </body>
</html>
